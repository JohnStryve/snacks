webpackJsonp([1],{170:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=i.n(r),c=i(65),l=i(449),d=i(67),u=i(168),f=i(450),p=i(451),h=i(105),v=function(e){function t(i){n(this,t);var a=o(this,e.call(this,i));return a.url=window.location.href,a.$reviewLink=s()('[data-reveal-id="modal-review-form"]'),a}return a(t,e),t.prototype.before=function(e){var t=this;s()(document).on("close.fndtn.reveal",function(){-1!==t.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)}),e()},t.prototype.loaded=function(e){var t=this,i=void 0;Object(d.b)(),this.productDetails=new u.a(s()("[data-productPage]"),this.context,window.BCData.product_attributes),Object(f.a)(),Object(p.a)();var n=Object(h.b)(".writeReview-form"),o=new l.a(n);s()("body").on("click",'[data-reveal-id="modal-review-form"]',function(){i=o.registerValidation(t.context)}),n.on("submit",function(){return!!i&&(i.performCheck(),i.areAll("valid"))}),e()},t.prototype.after=function(e){this.productReviewHandler(),e()},t.prototype.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.trigger("click")},t}(c.a);t.default=v},449:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=i(1),a=i.n(o),r=i(66),s=i(67),c=i(164),l=function(){function e(t){n(this,e),this.validator=Object(r.a)({submit:t.find('input[type="submit"]')}),this.$reviewsContent=a()("#product-reviews"),this.$collapsible=a()("[data-collapsible]",this.$reviewsContent),this.initLinkBind(),this.injectPaginationLink(),this.collapseReviews()}return e.prototype.initLinkBind=function(){var e=this,t=a()("#productReviews-content",this.$reviewsContent);a()(".productView-reviewLink").on("click",function(){t.hasClass("is-open")||e.$collapsible.trigger(s.a.click)})},e.prototype.collapseReviews=function(){window.location.hash&&0===window.location.hash.indexOf("#product-reviews")||this.$collapsible.trigger(s.a.click)},e.prototype.injectPaginationLink=function(){var e=a()(".pagination-item--next .pagination-link",this.$reviewsContent),t=a()(".pagination-item--previous .pagination-link",this.$reviewsContent);e.length&&e.attr("href",e.attr("href")+" #product-reviews"),t.length&&t.attr("href",t.attr("href")+" #product-reviews")},e.prototype.registerValidation=function(e){return this.context=e,this.validator.add([{selector:'[name="revrating"]',validate:"presence",errorMessage:this.context.reviewRating},{selector:'[name="revtitle"]',validate:"min-length:2",errorMessage:this.context.reviewSubject},{selector:'[name="revtext"]',validate:"min-length:2",errorMessage:this.context.reviewComment},{selector:'[name="email"]',validate:function(e,t){e(c.a.email(t))},errorMessage:this.context.reviewEmail}]),this.validator},e.prototype.validate=function(){return this.validator.performCheck()},e}();t.a=l},450:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){r()("[data-videoGallery]").each(function(e,t){var i=r()(t);i.data("videoGallery")instanceof s||i.data("videoGallery",new s(i))})}t.a=o;var a=i(1),r=i.n(a),s=function(){function e(t){n(this,e),this.$player=t.find("[data-video-player]"),this.$videos=t.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}return e.prototype.selectNewVideo=function(e){e.preventDefault();var t=r()(e.currentTarget);this.currentVideo={id:t.data("videoId"),$selectedThumb:t},this.setMainVideo(),this.setActiveThumb()},e.prototype.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},e.prototype.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},e.prototype.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},e}()},451:function(e,t,i){"use strict";(function(e){function n(){a(h),p.a.check(function(t){console.info("admin: ",t),t&&(o(),e(".admin-add").removeClass("hide"),c())}),d()}function o(){e("[dz-alter]").click(function(){e("[dz]").click()});var t={url:"/file/post",maxFilesize:10,maxFiles:20,addRemoveLinks:!0,dictResponseError:"Server not Configured",acceptedFiles:".png,.jpg,.gif,.bmp,.jpeg",autoProcessQueue:!0,init:function(){var t=this,i=(t.options.el,t.options.id);t.options.addRemoveLinks=!0,t.options.dictRemoveFile="Delete",t.on("addedfile",function(e){if(this.files.length){var t,i;for(t=0,i=this.files.length;t<i-1;t++)this.files[t].name===e.name&&this.files[t].size===e.size&&this.files[t].lastModifiedDate.toString()===e.lastModifiedDate.toString()&&this.removeFile(e)}}),t.on("sending",function(t){e(".meter").show();var n=this;setTimeout(function(){s(t,i),n.removeFile(n.files[0])},1e3)})}};e("[dz]").dropzone(Object.assign({el:"[dz]",id:e("[dz]").attr("dz")},t))}function a(t){f.a.subscribe("products/"+t).on("value",function(t){try{r(t.val().images)}catch(t){console.log("NO IMAGES");e(".productView-thumbnails .databased").html("")}})}function r(t){var i=e(".productView-thumbnails .databased");i.html(""),e.each(t,function(e,t){var n='<li class="productView-thumbnail">\n            <span dz-rm="'+t.id+'"><i class="fa fa-trash"></i></span>\n            <a class="productView-thumbnail-link" href="'+t.url+'" data-image-gallery-item="" data-image-gallery-new-image-url="'+t.url+'" data-image-gallery-zoom-image-url="'+t.url+'">\n                <img class="lazyautosizes lazyloaded" data-sizes="auto" src="'+t.url+'" data-src="'+t.url+'" alt="Collins (Youth)" title="Collins (Youth)" sizes="50px">\n            </a>\n        </li>';i.append(n)}),c()}function s(e,t){f.a.addProductImage("product",e,"products/"+t+"/images",t)}function c(){var t=e("[dz-rm]");t.unbind(),t.click(function(i){t.unbind(),l(e(this).attr("dz-rm"))})}function l(e){var t="products/"+h+"/images/"+e;f.a.remove(t),c()}function d(){var t=e("a.features");t.click(function(){e(".productView-images").unbind();var i=e(".overlay-feat"),n=e("li.productView-thumbnail:first-child a");if(i.hasClass("act"))return i.fadeOut().removeClass("act"),void t.removeClass("blue");n.click(),i.fadeIn().addClass("act"),t.addClass("blue"),setTimeout(function(){e(".productView-images").click(function(){i.fadeOut().removeClass("act"),t.removeClass("blue")})},1e3)})}t.a=n;var u=i(165),f=(i.n(u),i(104)),p=i(163),h=e("[dz]").attr("dz")}).call(t,i(1))}});